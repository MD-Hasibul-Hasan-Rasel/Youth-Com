<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Youth com | Searchpage</title>
    <link rel="icon" type="image/x-icon" th:href="@{/images/base_logo02.png}" />

    <link rel="stylesheet" th:href="@{/css/generics.css}" type="text/css" />
    <link rel="stylesheet" th:href="@{/css/blogpost.css}" type="text/css" />
    <link rel="stylesheet" th:href="@{/css/main.css}" type="text/css" />
    <link rel="stylesheet" th:href="@{/css/searchpage.css}" type="text/css" />
    <!-- resposive -->
    <link rel="stylesheet" th:href="@{/css/main_responsive_mobile.css}" />
    <link rel="stylesheet" th:href="@{/css/main_responsive_tab_ss.css}" />
    <link
      rel="stylesheet"
      th:href="@{/css/nav_mobile_slider.css}"
      type="text/css"
    />
  </head>
  <body>
    <!-- Floating contents -->
    <div class="cart_popup_modal">
      <div class="cart_main_box">
        <button class="exit_cart">
          <img th:src="@{/svg/cross.svg}" alt="cross" height="20" width="20" />
        </button>
        <h2 class="your_cart">Your Cart</h2>
        <div class="cart_items">
          <div class="cart_item" th:each="l : ${listCart}">
            <div class="cart_img_h2">
              <img
                th:src="@{'/uploads/' + ${l.sellername} + '/' + ${l.productno} + '/'
               				 + ${l.productno} + '.jpg'}"
                alt="red"
                height="50"
                width="60"
              />
              <h2 th:text="${l.productname}"></h2><br/>
              <h4 th:text="${l.sellername}"></h4><br/>
            </div>
            
            <div style="display: flex; align-items:center; gap: 2rem;">

			<a
              th:href="@{/user/orders(keyword=${l.productname})}"
              class="btn btn-primary "
              style="width:fit-content; font-size: 15px; padding: 1rem 1.5rem;
              background-color: #0069D9; text-decoration: none; color: #fff;
              border-radius: 3.75px !important;"
              >Checkout</a
            >
            <a
              th:href="@{/deleteCartindex(cartId=${l.id})}"
              class="btn btn-danger cart_item_discard"
              style="border-radius: 3.75px !important; margin: 0;"
              >Discard</a
            >
			
			</div>

          <!--    <a th:href="@{/deleteCartsearchpage(cartId=${l.id})}" class="btn btn-danger cart_item_discard">Discard</a>
          -->
          </div>
        </div>
      </div>
    </div>

    <!-- notification popup modal -->
    <div class="notification_popup_modal">
      <div class="notification_main_box">
        <button class="exit_notification">
          <img th:src="@{/svg/cross.svg}" alt="cross" height="20" width="20" />
        </button>
        <h2 class="your_notification">Your notifications</h2>
        <div class="notification_items">
          <div class="notification_item">
            <div class="notification_img_h2">
              <div sec:authorize="isAuthenticated()">
              	<h2 class="notification_item_h2">
                	<div class="not_text">Hello There! Welcome</div>
              	</h2>
              </div>
              <div sec:authorize="!isAuthenticated()">
              	<h2 class="notification_item_h2" style="color: #777; text-align: center;">
                	No notification available!
              	</h2>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
    <div class="overlay">
      <div class="navigation_mobile_slider">
        <button class="exit_mobile_navigation_slider">
          <img th:src="@{/svg/cross.svg}" alt="exit" />
        </button>
        <div class="user_profile user_profile_nav">
          <img
            class="user_profile_img"
            th:src="@{'/uploads/' + ${username} + '/'
                	+ ${username} + '.jpg'}"
            alt="user_profile"
          /><span><!--UserName-->Hasibul</span>
        </div>
        <nav class="navigation category_posts">
          <!-- <h2>Sort<span> BY</span></h2>
          <div class="sort">
            <a th:href="@{/#}">Name Z to A</a>
            <a th:href="@{/#}">Price Low to high</a>
            <a th:href="@{/#}">Price high to Low</a>
          </div>-->

          <h2>Categ<span>ories</span></h2>
          <a th:href="@{/searchpageAside(keyword='Electronics')}" class="category_button01">
            <span>Electronics</span>
          </a>
          <a th:href="@{/searchpageAside(keyword='Wearings')}" class="category_button02">
            <span>Wearings</span>
          </a>
          <a th:href="@{/searchpageAside(keyword='Groceries')}" class="category_button03">
            <span>Groceries</span>
          </a>
          <a th:href="@{/searchpageAside(keyword='Sports')}" class="category_button04">
            <span>Sports</span>
          </a>
          <a th:href="@{/searchpageAside(keyword='Phones')}" class="category_button05">
            <span>Phones</span>
          </a>
          <a th:href="@{/searchpageAside(keyword='Service')}" class="category_button06">
            <span>Dgt. Service</span>
          </a>
        </nav>

        <div class="bell_cart_nav">
          <button class="notification_button gen_box_shadow" sec:authorize="isAuthenticated()">
                <span class="notification_count">1</span>
                <i class="fa-solid fa-bell"></i>
              </button>
              
              <button class="notification_button  gen_box_shadow" sec:authorize="!isAuthenticated()">
                <span class="notification_count">0</span>
                <i class="fa-solid fa-bell"></i>                
          </button>
          <button class="cart_button  gen_box_shadow">
            <span th:text="${count}"></span>
            <i class="fa-solid fa-shopping-cart"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Header portion -->
    <header>
      <div class="topbar_box">
        <div class="topbar header_primary_section">
          <a th:href="@{/index}" href="index.html" class="base_logo_link">
            <img
              th:src="@{/images/base_logo02.png}"
              alt="main-logo"
              height="40"
              width="40"
            />
            <img
              th:src="@{/images/name_site2.png}"
              alt="youth_com."
              height="45"
            />
          </a>
          
          <form th:action="@{/searchpage}" method="GET" class="main_search_box gen_box_shadow">
            <input
              type="text"
              name="keyword" 
              th:value="${keyword}"
              placeholder="Search for products.."
              id="searchtext"
            />
            <button type="submit">GO</button>
          </form>
          
          <div class="user_essn">
            <div class="user_profile gen_box_shadow">
              <div sec:authorize="isAuthenticated()">
                <img
                  class="user_profile_img"
                  th:src="@{'/uploads/' + ${username} + '/'
                	+ ${username} + '.jpg'}"
                  alt="user_profile"
                />
              </div>

              <div sec:authorize="!isAuthenticated()">
                <img
                  class="user_profile_img"
                  th:src="@{/images/anonymous.png}"
                  alt="user_profile"
                />
              </div>
              <span
                sec:authentication="principal.username"
                sec:authorize="isAuthenticated()"
              ></span>
              <span sec:authorize="!isAuthenticated()">User</span>

              <div class="profile_logout">
                <!-- <div th:if="${param.logout}">-->
                <div sec:authorize="isAuthenticated()">
                <!--   <a class="view_profile" th:href="@{/#}">View profile</a> -->
                  <a class="logout" th:href="@{/logout}">Logout</a>
                </div>
                <div sec:authorize="!isAuthenticated()">
                  <a class="login" th:href="@{/user_login}">Login</a>
                </div>
              </div>
            </div>
            <div class="bell_cart">
              <button class="notification_button" sec:authorize="isAuthenticated()">
                <span class="notification_count">1</span>
                <i class="fa-solid fa-bell"></i>
              </button>
              
              <button class="notification_button" sec:authorize="!isAuthenticated()">
                <span class="notification_count">0</span>
                <i class="fa-solid fa-bell"></i>                
          	  </button>
              <button class="cart_button">
            		<span th:text="${count}"></span>
            		<i class="fa-solid fa-shopping-cart"></i>
          	  </button>
              <button class="menu_button">
                <img th:src="@{/svg/menu_hamburgar.svg}" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main>
      <div class="category_posts">
        <div class="category gen_box_shadow subtopbar">
          <!-- <h2>Sort<span> BY</span></h2>
          <div class="sort">
            <a th:href="@{/}">Name Z to A</a>
            <a th:href="@{/}">Price Low to high</a>
            <a th:href="@{/}">Price high to Low</a>
          </div>-->

          <h2>Categ<span>ories</span></h2>
           <a th:href="@{/searchpageAside(keyword='Electronics')}" class="category_button01">
            <span>Electronics</span>
          </a>
          <a th:href="@{/searchpageAside(keyword='Wearings')}" class="category_button02">
            <span>Wearings</span>
          </a>
          <a th:href="@{/searchpageAside(keyword='Groceries')}" class="category_button03">
            <span>Groceries</span>
          </a>
          <a th:href="@{/searchpageAside(keyword='Sports')}" class="category_button04">
            <span>Sports</span>
          </a>
          <a th:href="@{/searchpageAside(keyword='Phones')}" class="category_button05">
            <span>Phones</span>
          </a>
          <a th:href="@{/searchpageAside(keyword='Service')}" class="category_button06">
            <span>Dgt. Service</span>
          </a>
        </div>
        
        
        
        <div class="search_box_container" >
        <h1 th:if="${productlistsize==0}" style="color: #777; font-size: 3rem;
        display: block; width: 100% !important; text-align:center;grid-column:1/-1;">No product found . ☹</h1>
        
        <div th:each="l : ${list}" th:if="${productlistsize>0}">
          <a 
           th:href="@{/product_page(keyword=${l.productname})}"
           class="card gen_box_shadow" style="border: 1px solid #ced4da;">
            <div class="img">
              <img 
              th:src="@{'/uploads/' + ${l.username} + '/' + ${l.productno} + '/'
               				 + ${l.productno} + '.jpg'}"
              alt="unknown-img" 
              />
            </div>
            <h1 class="product_title" th:text="${l.productname}">
            </h1>
            
            
            <div style="display: flex; align-items: center;">

            <p class="price" style="display: inline-block !important;">
            <span class="card_price" th:text="${l.price}"></span> TK
            </p>
            
            <p class="price" style="display: inline-block !important;">
            <span class="card_price" th:text="${l.offer}"
            						style="margin: 0 1rem; color: #777 !important;
            						font-size: 1.5rem !important;"></span>
            </p>
            
            </div>
            
          </a>
		</div>
         
        </div>
      </div>
    </main>

    <script th:src="@{/js/blogpost.js}"></script>
    <script th:src="@{/js/main_script.js}" type="text/javascript"></script>
    <script
      th:src="@{/js/nav_mobile_slider.js}"
      type="text/javascript"
    ></script>
    <script th:src="@{/js/generics.js}" type="text/javascript"></script>
    <script
      src="https://kit.fontawesome.com/f7953d3d50.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
